extends layout
block content
  .dashhead
    .dashhead-titles
      h6.dashhead-subtitle Blogs
      h2.dashhead-title Listings
    .btn-toolbar.dashhead-toolbar
      .btn-group
        a.btn.btn-primary-outline(href='/admin/post', type='button')
          | New Post
          span.icon.icon-plus
  hr.m-t
  .flextable.table-actions
    .flextable-item.flextable-primary
      .btn-toolbar-item.input-with-icon
        input.form-control.input-block.model_search(type='text', value="#{search}", placeholder='Search posts')
        span.icon.icon-magnifying-glass
    .flextable-item
  .table-full
    .table-responsive
      table.table(data-sort='table')
        thead
          tr
            th Status
            th Title
            th Created
            th Actions
        tbody
          if posts.length
            each post in posts
              tr
                td
                  =post.status
                td
                  =post.title
                td
                  =moment(post.date).format("YYYY-MM-DD")
                td
                  a.btn.btn-primary-outline.btn-sm(href='/admin/post/#{post._id}')
                    | Edit
                    span.icon.icon-pencil
                  | &nbsp;
                  a.btn.btn-primary-outline.btn-sm(href='/admin/post/delete/#{post._id}', data-remote='true', data-confirm='Are You Sure?')
                    | Delete
                    span.icon.icon-erase
                  | &nbsp;
                  a.btn.btn-primary-outline.btn-sm(href='/blog/post/#{post._id}')
                    | View
          else
            tr
              td(colspan=7, class="text-center")
                | No posts found
  .text-center